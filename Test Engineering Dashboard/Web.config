<?xml version="1.0"?>
<!-- Force rebuild: 2025-01-XX 06:00 UTC - Fixed layout sizing (2+2+4+4), copied EXACT toggle CSS from ItemDetails, fixed label font -->
<configuration>
  <configSections>
    <section name="entityFramework" type="System.Data.Entity.Internal.ConfigFile.EntityFrameworkSection, EntityFramework, Version=6.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" requirePermission="false" />
  </configSections>

  <connectionStrings>
    <!-- Local SQL Express connection to the TestEngineering DB on the server -->
    <add name="TestEngineeringConnectionString" connectionString="Data Source=.\SQLEXPRESS;Initial Catalog=TestEngineering;Integrated Security=True" providerName="System.Data.SqlClient" />
  </connectionStrings>

  <appSettings>
    <!-- Uploads root can be app-relative (~/Uploads) or absolute (e.g., D:\TEDUploads). Default is inside the app folder. -->
    <add key="TED.UploadsRoot" value="~/Uploads" />
    <!-- Subfolder used for profile pictures under the uploads root -->
    <add key="TED.ProfilePicturesSubfolder" value="ProfilePictures" />
    
    <!-- Local File System Storage - Base path for all document folders -->
    <!-- Can be app-relative (~/Storage) or absolute path (e.g., D:\TEDStorage) -->
    <add key="LocalStorage.BasePath" value="~/Storage" />
    
    <!-- Server/Computer Name for network paths and URLs -->
    <add key="ServerName" value="usyouwhp6205605" />
    
    <!-- Network Path for displaying folder links (UNC path accessible from other computers) -->
    <!-- Server: usyouwhp6205605 -->
    <add key="LocalStorage.NetworkPath" value="\\usyouwhp6205605\Test Engineering Dashboard\Storage" />

    <!-- SPD Label Validation configuration -->
    <add key="SPD.AccessDbPath" value="\\usyouwhp6225968\c\_TestEngineering\Database\Production.mdb" />
    <add key="SPD.AccessDb.Table" value="Index" />
    <add key="SPD.AccessDb.SerialField" value="SerialNumber" />
    <add key="SPD.AccessDb.StatusField" value="" />
    <add key="SPD.AccessDb.PassValue" value="PASS" />
    <add key="SPD.AccessDb.CatalogField" value="PartNumber" />
    <add key="SPD.AccessDb.OrderBy" value="[StartTime] DESC" />
    <add key="SPD.AccessDb.ResultField" value="Results" />
    <add key="SPD.AccessDb.ResultPassValue" value="1" />
    <add key="SPD.AccessDb.WorkcellField" value="Workcell" />
    <add key="SPD.ExcelPath" value="\\Youncsfp01\Public\Temp\SPD\SPD Series Label Database.xlsx" />
    <add key="SPD.ExcelSheet" value="LABEL_ADMIN_STYLE_CATALOG" />
    <add key="SPD.Excel.CatalogField" value="STYLE_NUM" />
    <add key="SPD.Excel.MaterialField" value="MATNR" />
  </appSettings>

  <system.web>
    <trust level="Full" />
    <customErrors mode="Off" />
    <compilation debug="true" targetFramework="4.8">
      <assemblies>
        <add assembly="System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" />
        <add assembly="System.Net.Http, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" />
      </assemblies>
    </compilation>
    <httpRuntime targetFramework="4.5" executionTimeout="240" maxRequestLength="20480" />

    <!-- Forms auth for this sub-app -->
    <authentication mode="Forms">
      <forms loginUrl="~/Account/Login.aspx" timeout="525600" />
    </authentication>

    <!-- Deny anonymous except for the login page (and default landing) -->
    <authorization>
      <deny users="?" />
    </authorization>
    <pages controlRenderingCompatibilityVersion="4.0" clientIDMode="AutoID" />
  </system.web>

  <!-- Allow anonymous access to the account request page -->
  <location path="Account/RequestAccount.aspx">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>

  <!-- Allow anonymous access to the unauthorized access page -->
  <location path="UnauthorizedAccess.aspx">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>

  <!-- Allow anonymous access to the login page and static assets -->
  <location path="Account/Login.aspx">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="Account/Logout.aspx">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="Default.aspx">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="Content">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="Images">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>

  <system.webServer>
    <validation validateIntegratedModeConfiguration="false" />
    <staticContent>
      <remove fileExtension=".webp" />
      <mimeMap fileExtension=".webp" mimeType="image/webp" />
    </staticContent>
    <!-- Default document inherits from parent site; removed explicit add to avoid duplicate entry causing 500.19 -->
    <defaultDocument enabled="true">
      <files>
        <clear />
        <add value="Default.aspx" />
      </files>
    </defaultDocument>
  </system.webServer>

  <!-- SMTP settings (inherits if already at root, but specifying here for isolation) -->
  <system.net>
    <mailSettings>
      <smtp deliveryMethod="Network" from="TestEngDashboard@eaton.com">
        <network host="mail.etn.com" port="25" />
      </smtp>
    </mailSettings>
  </system.net>

  <entityFramework>
    <defaultConnectionFactory type="System.Data.Entity.Infrastructure.SqlConnectionFactory, EntityFramework" />
    <providers>
      <provider invariantName="System.Data.SqlClient" type="System.Data.Entity.SqlServer.SqlProviderServices, EntityFramework.SqlServer" />
    </providers>
  </entityFramework>
  <!-- Force rebuild: 2025-10-16 03:55 UTC - Improved refresh with cache-busting -->
</configuration>
